<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ophthalmology MCQ Quiz | Medical Exam Preparation</title>
    <meta name="description" content="Interactive quiz for ophthalmology exam preparation with multiple-choice questions organized by topic and year.">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.0/collection/components/icon/svg/eye.svg">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Ophthalmology MCQ Quiz</h1>
            <p class="header-subtitle">Interactive exam preparation for medical students and residents</p>
        </header>
        
        <main>
            <!-- Setup Section -->
            <section class="setup-section" id="setup-section" aria-labelledby="setup-heading">
                <div class="section-inner">
                    <h2 id="setup-heading">Quiz Setup</h2>
                    <p>Select topics and questions to create your customized practice exam</p>
                    
                    <!-- Topics Navigation -->
                    <div class="topics-container">
                        <h3 class="visually-hidden">Available Topics</h3>
                        <div class="topics-row" role="tablist" aria-label="Quiz Topics">
                            <button class="topic-btn" data-topic="fundamentals" role="tab" aria-selected="false" aria-controls="fundamentals-dropdown">
                                <i class="fas fa-book-medical topic-icon" aria-hidden="true"></i>
                                <span>Fundamentals</span>
                                <span class="count-badge" aria-label="22 questions available">22</span>
                            </button>
                            <button class="topic-btn" data-topic="optics" role="tab" aria-selected="false" aria-controls="optics-dropdown">
                                <i class="fas fa-glasses topic-icon" aria-hidden="true"></i>
                                <span>Optics</span>
                                <span class="count-badge" aria-label="No questions available">0</span>
                            </button>
                            <button class="topic-btn" data-topic="pathology" role="tab" aria-selected="false" aria-controls="pathology-dropdown">
                                <i class="fas fa-microscope topic-icon" aria-hidden="true"></i>
                                <span>Pathology</span>
                                <span class="count-badge" aria-label="No questions available">0</span>
                            </button>
                            <button class="topic-btn" data-topic="neuro" role="tab" aria-selected="false" aria-controls="neuro-dropdown">
                                <i class="fas fa-brain topic-icon" aria-hidden="true"></i>
                                <span>Neuro</span>
                                <span class="count-badge" aria-label="No questions available">0</span>
                            </button>
                            <button class="topic-btn" data-topic="pediatrics" role="tab" aria-selected="false" aria-controls="pediatrics-dropdown">
                                <i class="fas fa-child topic-icon" aria-hidden="true"></i>
                                <span>Pediatrics</span>
                                <span class="count-badge" aria-label="No questions available">0</span>
                            </button>
                            <button class="topic-btn" data-topic="oculoplastics" role="tab" aria-selected="false" aria-controls="oculoplastics-dropdown">
                                <i class="fas fa-user-md topic-icon" aria-hidden="true"></i>
                                <span>Oculoplastics</span>
                                <span class="count-badge" aria-label="No questions available">0</span>
                            </button>
                            <button class="topic-btn" data-topic="cornea" role="tab" aria-selected="false" aria-controls="cornea-dropdown">
                                <i class="far fa-eye topic-icon" aria-hidden="true"></i>
                                <span>Cornea</span>
                                <span class="count-badge" aria-label="No questions available">0</span>
                            </button>
                            <button class="topic-btn" data-topic="uveitis" role="tab" aria-selected="false" aria-controls="uveitis-dropdown">
                                <i class="fas fa-disease topic-icon" aria-hidden="true"></i>
                                <span>Uveitis</span>
                                <span class="count-badge" aria-label="No questions available">0</span>
                            </button>
                            <button class="topic-btn" data-topic="glaucoma" role="tab" aria-selected="false" aria-controls="glaucoma-dropdown">
                                <i class="fas fa-tint topic-icon" aria-hidden="true"></i>
                                <span>Glaucoma</span>
                                <span class="count-badge" aria-label="9 questions available">9</span>
                            </button>
                            <button class="topic-btn" data-topic="lens" role="tab" aria-selected="false" aria-controls="lens-dropdown">
                                <i class="fas fa-search-plus topic-icon" aria-hidden="true"></i>
                                <span>Cataract/Lens</span>
                                <span class="count-badge" aria-label="10 questions available">10</span>
                            </button>
                            <button class="topic-btn" data-topic="retina" role="tab" aria-selected="false" aria-controls="retina-dropdown">
                                <i class="fas fa-eye topic-icon" aria-hidden="true"></i>
                                <span>Retina</span>
                                <span class="count-badge" aria-label="13 questions available">13</span>
                            </button>
                            <button class="topic-btn" data-topic="refractive" role="tab" aria-selected="false" aria-controls="refractive-dropdown">
                                <i class="fas fa-low-vision topic-icon" aria-hidden="true"></i>
                                <span>Refractive</span>
                                <span class="count-badge" aria-label="No questions available">0</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Topic Dropdown Panels -->
                    <div class="dropdown-panels-container">
                        <!-- Fundamentals Dropdown -->
                        <div class="topic-dropdown" id="fundamentals-dropdown" role="tabpanel" aria-labelledby="fundamentals-tab" hidden>
                            <div class="topic-dropdown-header">
                                <div class="topic-dropdown-title">
                                    <i class="fas fa-book-medical" aria-hidden="true"></i> 
                                    <span>Fundamentals Questions</span>
                                </div>
                            </div>
                            
                            <div class="years-container">
                                <div class="year-card">
                                    <div class="year-header">2017</div>
                                    <div class="year-content">
                                        <div class="question-count">
                                            <label for="fundamentals-2017-count">
                                                Number of questions:
                                                <input type="number" id="fundamentals-2017-count" min="0" max="22" value="0" aria-describedby="fundamentals-2017-available">
                                            </label>
                                            <div class="available-count" id="fundamentals-2017-available">/ 22 available</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="year-card">
                                    <div class="year-header">2018</div>
                                    <div class="year-content">
                                        <div class="empty-state">
                                            <i class="fas fa-inbox" aria-hidden="true"></i>
                                            <p>No questions available</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="year-card">
                                    <div class="year-header">2019</div>
                                    <div class="year-content">
                                        <div class="empty-state">
                                            <i class="fas fa-inbox" aria-hidden="true"></i>
                                            <p>No questions available</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Additional topic dropdowns follow the same pattern -->
                        <!-- Glaucoma Dropdown -->
                        <div class="topic-dropdown" id="glaucoma-dropdown" role="tabpanel" aria-labelledby="glaucoma-tab" hidden>
                            <div class="topic-dropdown-header">
                                <div class="topic-dropdown-title">
                                    <i class="fas fa-tint" aria-hidden="true"></i> 
                                    <span>Glaucoma Questions</span>
                                </div>
                            </div>
                            
                            <div class="years-container">
                                <div class="year-card">
                                    <div class="year-header">2017</div>
                                    <div class="year-content">
                                        <div class="question-count">
                                            <label for="glaucoma-2017-count">
                                                Number of questions:
                                                <input type="number" id="glaucoma-2017-count" min="0" max="9" value="0" aria-describedby="glaucoma-2017-available">
                                            </label>
                                            <div class="available-count" id="glaucoma-2017-available">/ 9 available</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Additional year cards -->
                            </div>
                        </div>
                        
                        <!-- Lens/Cataract Dropdown -->
                        <div class="topic-dropdown" id="lens-dropdown" role="tabpanel" aria-labelledby="lens-tab" hidden>
                            <div class="topic-dropdown-header">
                                <div class="topic-dropdown-title">
                                    <i class="fas fa-search-plus" aria-hidden="true"></i> 
                                    <span>Cataract/Lens Questions</span>
                                </div>
                            </div>
                            
                            <div class="years-container">
                                <div class="year-card">
                                    <div class="year-header">2017</div>
                                    <div class="year-content">
                                        <div class="question-count">
                                            <label for="lens-2017-count">
                                                Number of questions:
                                                <input type="number" id="lens-2017-count" min="0" max="10" value="0" aria-describedby="lens-2017-available">
                                            </label>
                                            <div class="available-count" id="lens-2017-available">/ 10 available</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Additional year cards -->
                            </div>
                        </div>
                        
                        <!-- Retina Dropdown -->
                        <div class="topic-dropdown" id="retina-dropdown" role="tabpanel" aria-labelledby="retina-tab" hidden>
                            <div class="topic-dropdown-header">
                                <div class="topic-dropdown-title">
                                    <i class="fas fa-eye" aria-hidden="true"></i> 
                                    <span>Retina Questions</span>
                                </div>
                            </div>
                            
                            <div class="years-container">
                                <div class="year-card">
                                    <div class="year-header">2017</div>
                                    <div class="year-content">
                                        <div class="question-count">
                                            <label for="retina-2017-count">
                                                Number of questions:
                                                <input type="number" id="retina-2017-count" min="0" max="13" value="0" aria-describedby="retina-2017-available">
                                            </label>
                                            <div class="available-count" id="retina-2017-available">/ 13 available</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Additional year cards -->
                            </div>
                        </div>
                        
                        <!-- Simplified placeholders for other topic dropdowns -->
                        <div class="topic-dropdown" id="optics-dropdown" role="tabpanel" aria-labelledby="optics-tab" hidden>
                            <!-- Optics content -->
                        </div>
                        <div class="topic-dropdown" id="pathology-dropdown" role="tabpanel" aria-labelledby="pathology-tab" hidden>
                            <!-- Pathology content -->
                        </div>
                        <div class="topic-dropdown" id="neuro-dropdown" role="tabpanel" aria-labelledby="neuro-tab" hidden>
                            <!-- Neuro content -->
                        </div>
                        <div class="topic-dropdown" id="pediatrics-dropdown" role="tabpanel" aria-labelledby="pediatrics-tab" hidden>
                            <!-- Pediatrics content -->
                        </div>
                        <div class="topic-dropdown" id="oculoplastics-dropdown" role="tabpanel" aria-labelledby="oculoplastics-tab" hidden>
                            <!-- Oculoplastics content -->
                        </div>
                        <div class="topic-dropdown" id="cornea-dropdown" role="tabpanel" aria-labelledby="cornea-tab" hidden>
                            <!-- Cornea content -->
                        </div>
                        <div class="topic-dropdown" id="uveitis-dropdown" role="tabpanel" aria-labelledby="uveitis-tab" hidden>
                            <!-- Uveitis content -->
                        </div>
                        <div class="topic-dropdown" id="refractive-dropdown" role="tabpanel" aria-labelledby="refractive-tab" hidden>
                            <!-- Refractive content -->
                        </div>
                    </div>
                    
                    <div class="total-counter" aria-live="polite">
                        <span>Total selected questions: </span>
                        <span id="question-counter">0</span>
                    </div>
                    
                    <button id="start-quiz" class="primary-btn" aria-disabled="true">
                        <span>Generate Quiz</span>
                        <i class="fas fa-play" aria-hidden="true"></i>
                    </button>
                </div>
            </section>
            
            <!-- Quiz Section -->
            <section class="quiz-section hidden" id="quiz-section" aria-labelledby="quiz-heading">
                <div class="section-inner">
                    <h2 id="quiz-heading" class="visually-hidden">Quiz Questions</h2>
                    
                    <div class="progress-container" aria-label="Quiz progress">
                        <div class="progress-bar">
                            <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
                        </div>
                        <div class="progress-text" aria-live="polite"></div>
                    </div>
                    
                    <div id="current-question" aria-live="polite"></div>
                    
                    <div class="navigation">
                        <button id="prev-question" class="secondary-btn hidden">
                            <i class="fas fa-arrow-left" aria-hidden="true"></i>
                            <span>Previous Question</span>
                        </button>
                        <button id="next-question" class="primary-btn">
                            <span>Next Question</span>
                            <i class="fas fa-arrow-right" aria-hidden="true"></i>
                        </button>
                        <button id="finish-quiz" class="success-btn hidden">
                            <span>Finish Quiz</span>
                            <i class="fas fa-check" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- Results Section -->
            <section class="results-section hidden" id="results-section" aria-labelledby="results-heading">
                <div class="section-inner">
                    <h2 id="results-heading">Quiz Results</h2>
                    
                    <div class="results">
                        <p>You've completed the quiz!</p>
                        <div class="score" aria-live="polite">
                            <span id="final-score">0</span>
                        </div>
                        <div id="correct-count" aria-live="polite"></div>
                    </div>
                    
                    <div class="result-actions">
                        <button id="review-quiz" class="secondary-btn">
                            <i class="fas fa-search" aria-hidden="true"></i>
                            <span>Review Answers</span>
                        </button>
                        <button id="restart-quiz" class="primary-btn">
                            <i class="fas fa-redo" aria-hidden="true"></i>
                            <span>Start New Quiz</span>
                        </button>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <div class="footer-content">
                <p>© 2025 Ophthalmology MCQ Quiz. Created for educational purposes.</p>
                <div class="footer-links">
                    <a href="https://github.com/israeliumd/ophth-quiz" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-github" aria-hidden="true"></i>
                        <span>View on GitHub</span>
                    </a>
                    <button type="button" id="language-toggle" aria-label="Toggle language between English and Hebrew">
                        <i class="fas fa-language" aria-hidden="true"></i>
                        <span>עברית / English</span>
                    </button>
                </div>
            </div>
        </footer>
    </div>
    
    <button class="scroll-top" aria-label="Scroll to top">
        <i class="fas fa-arrow-up" aria-hidden="true"></i>
    </button>
    
    <!-- Skip to content link for accessibility -->
    <a href="#setup-section" class="skip-link">Skip to content</a>
    
    <!-- Loading indicator -->
    <div id="loading-indicator" hidden>
        <div class="spinner"></div>
        <p>Loading quiz...</p>
    </div>
    
    <!-- Load question data files first -->
    <script src="js/data/lens-2017.js"></script>
    <script src="js/data/glaucoma-2017.js"></script>
    <script src="js/data/retina-2017.js"></script>
    <script src="js/data/fundamentals-2017.js"></script>
    
    <!-- Main application scripts -->
    <script src="js/questions.js"></script>
    <script src="js/quiz-engine.js"></script>
    <script src="js/app.js"></script>
    <script src="js/topic-fix.js"></script>
</body>
</html>
